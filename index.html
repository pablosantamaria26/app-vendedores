<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>App de Vendedores Inteligente</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- LOGIN -->
  <div id="login" class="login">
    <h2>ğŸ” IngresÃ¡ tu clave</h2>
    <input type="password" id="clave" maxlength="4" placeholder="4 dÃ­gitos" />
    <button onclick="login()">Entrar</button>
    <p id="error" class="error"></p>
  </div>

  <!-- APP PRINCIPAL -->
  <div id="app" class="oculto">
    <header>
      <h1 id="titulo"></h1>
      <div class="modo-toggle" id="modoToggle" onclick="alternarModo()">ğŸŒ™</div>

      <div class="menu">
        <button id="btnRuta" class="activo" onclick="mostrarSeccion('ruta')">ğŸ—ºï¸ Ruta del DÃ­a</button>
        <button id="btnCalendario" onclick="mostrarSeccion('calendario')">ğŸ“… Calendario</button>
        <button id="btnLogout" onclick="logout()">ğŸšª Salir</button>
      </div>
      <p id="estado"></p>
    </header>

    <main>
      <section id="seccion-ruta" class="seccion visible">
        <div id="contenedor"></div>
      </section>

      <section id="seccion-calendario" class="seccion oculto">
        <h2>ğŸ“… Calendario de Visitas</h2>
        <div id="contenedorCalendario" class="tabla-calendario"></div>
      </section>
    </main>
  </div>

  <script src="app.js"></script>

<script>
/* ================================
   ğŸ”„ MANEJO DE SECCIONES / MODO OSCURO
================================ */
function mostrarSeccion(seccion) {
  const btnRuta = document.getElementById("btnRuta");
  const btnCalendario = document.getElementById("btnCalendario");
  const seccionRuta = document.getElementById("seccion-ruta");
  const seccionCalendario = document.getElementById("seccion-calendario");

  // Reset
  btnRuta.classList.remove("activo");
  btnCalendario.classList.remove("activo");
  seccionRuta.classList.add("oculto");
  seccionCalendario.classList.add("oculto");

  if (seccion === "ruta") {
    btnRuta.classList.add("activo");
    seccionRuta.classList.remove("oculto");
  } else {
    btnCalendario.classList.add("activo");
    seccionCalendario.classList.remove("oculto");
    cargarCalendario();
  }
}

/* ================================
   ğŸŒ™ / â˜€ï¸ MODO OSCURO
================================ */
function alternarModo() {
  const body = document.body;
  const actual = body.dataset.dark === "true";
  body.dataset.dark = !actual;
  localStorage.setItem("modoOscuro", body.dataset.dark);
  document.getElementById("modoToggle").textContent = actual ? "ğŸŒ™" : "â˜€ï¸";
}

// Restaurar modo guardado
window.addEventListener("load", () => {
  const guardado = localStorage.getItem("modoOscuro");
  if (guardado) {
    document.body.dataset.dark = guardado;
    document.getElementById("modoToggle").textContent =
      guardado === "true" ? "â˜€ï¸" : "ğŸŒ™";
  }
});
</script>

</body>
</html>
