/* ================================
   üé® VARIABLES DE COLOR (2026)
================================ */
:root {
  --azul: #007aff;
  --azul-oscuro: #005fcc;
  --ok: #00c851;
  --no: #ff4444;

  --bg: #f4f6f8;
  --card: #ffffff;
  --texto: #222;
  --borde: #e6e9ef;
  --sombra: rgba(0, 0, 0, 0.08);
}

body[data-dark="true"] {
  --azul: #58a6ff;
  --azul-oscuro: #1f6feb;
  --ok: #2ecc71;
  --no: #e74c3c;

  --bg: #0d1117;
  --card: #111827;
  --texto: #e6edf3;
  --borde: #1f2937;
  --sombra: rgba(255, 255, 255, 0.06);
}

/* ================================
   BASE
================================ */
html, body { height: 100%; margin: 0; }
body {
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: var(--bg);
  color: var(--texto);
  overflow-x: hidden;
  transition: background .3s ease, color .3s ease;
}

/* ================================
   HEADER + TOGGLE MODO OSCURO
================================ */
header {
  width: 100%;
  background: var(--azul);
  color: #fff;
  padding: 14px;
  text-align: center;
  position: sticky;
  top: 0;
  z-index: 999;
  box-shadow: 0 2px 10px rgba(0,0,0,.2);
}
header h1 { margin: 0; font-size: 1.3rem; }

.modo-toggle {
  position: absolute;
  right: 12px;
  top: 12px;
  cursor: pointer;
  font-size: 1.2rem;
  user-select: none;
  transition: transform .2s ease;
}
.modo-toggle:hover { transform: rotate(15deg); }

/* ================================
   LOGIN (FULLSCREEN)
================================ */
#login {
  position: fixed;
  inset: 0;
  background: linear-gradient(135deg, var(--azul), var(--azul-oscuro));
  display: flex; align-items: center; justify-content: center;
  z-index: 10000;
}
.login-card {
  background: var(--card);
  color: var(--texto);
  border-radius: 15px;
  padding: 20px;
  width: 85%;
  max-width: 360px;
  text-align: center;
  box-shadow: 0 6px 20px var(--sombra);
  border: 1px solid var(--borde);
}
.login-card h1 { margin: 0 0 .25em 0; font-size: 1.5rem; }
.login-card h2 { margin: 0 0 .75em 0; font-size: 1rem; opacity: .9; }

#login input {
  font-size: 1.4rem;
  padding: 10px;
  text-align: center;
  margin: 10px 0;
  width: 80%;
  border-radius: 10px;
  border: 2px solid var(--azul);
  outline: none;
  background: #fff;
  color: #222;
}
body[data-dark="true"] #login input {
  background: #0f172a; color: var(--texto); border-color: var(--borde);
}

.teclado-numerico {
  display: grid; grid-template-columns: repeat(3, 1fr);
  gap: .5em; justify-items: center;
}
.teclado-numerico button {
  background: #fff; color: var(--azul);
  border-radius: 10px; padding: .6em 0; width: 100%;
  font-weight: 700; border: none; cursor: pointer;
  transition: transform .15s ease;
}
.teclado-numerico button:hover { transform: scale(1.04); }
#login #error { color: #ff4d4f; min-height: 1.1em; }

/* ================================
   MEN√ö INFERIOR
================================ */
.menu {
  display: flex; justify-content: space-around; gap: 0;
  background: var(--card);
  width: 100%;
  border-top: 1px solid var(--borde);
  position: fixed; bottom: 0; left: 0; z-index: 1000;
}
.menu button {
  flex: 1; padding: 10px; border: none; background: transparent;
  font-size: 1rem; cursor: pointer; transition: background .2s ease, color .2s ease;
}
.menu button.activo {
  background: var(--azul); color: #fff; font-weight: 700;
}

/* ================================
   LAYOUT DE SECCIONES
================================ */
main { width: 100%; max-width: 780px; padding: 10px; margin-bottom: 86px; }
h2 { text-align: center; margin: 10px 0; color: var(--azul); }

.seccion { display: none; animation: fade .25s ease; }
.seccion.visible { display: block; }
@keyframes fade { from {opacity: 0; transform: translateY(6px);} to {opacity: 1; transform: translateY(0);} }

/* ================================
   TARJETAS DE CLIENTES
================================ */
.cliente {
  background: var(--card);
  border: 1px solid var(--borde);
  border-left: 6px solid var(--azul);
  border-radius: 12px;
  padding: 14px;
  margin: 10px 0;
  box-shadow: 0 2px 8px var(--sombra);
  transition: transform .2s ease, box-shadow .2s ease, opacity .2s ease, filter .2s ease;
}
.cliente:hover { transform: translateY(-1px); box-shadow: 0 6px 16px rgba(0,0,0,.12); }
.cliente h3 { margin: 0 0 6px 0; color: var(--azul); }
.cliente .fila { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
.cliente .acciones { margin-top: 8px; display: flex; gap: 6px; flex-wrap: wrap; }

/* Drag & drop + bloqueo */
.cliente[draggable="true"] { cursor: grab; }
.cliente.bloqueado { opacity: .85; filter: saturate(.85); }

/* Badges */
.badge {
  background: #eef2ff;
  color: #2c3e50;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: .85rem;
  border: 1px solid var(--borde);
}

/* ================================
   BOTONES
================================ */
button {
  background: linear-gradient(135deg, var(--azul), var(--azul-oscuro));
  color: #fff;
  border: none;
  border-radius: 10px;
  padding: 8px 12px;
  font-weight: 700;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
}
button:hover { transform: translateY(-1px); box-shadow: 0 6px 14px rgba(0,0,0,.12); }
.btn-secundario { background: #00b894; }


/* Checkboxes + textarea dentro de tarjeta */
.cliente input[type="checkbox"] { transform: translateY(1px); }
.cliente textarea {
  width: 100%; margin-top: 6px;
  background: transparent; color: var(--texto);
  border: 1px solid var(--borde); border-radius: 8px; padding: 8px;
  outline: none;
}

/* ================================
   MAPAS
================================ */
#mapaFull, #mapa {
  height: 68vh;
  width: 100%;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px var(--sombra);
  border: 1px solid var(--borde);
}

/* ================================
   PANEL RESUMEN + GR√ÅFICO
================================ */
.panel-resumen {
  text-align: center;
  background: var(--card);
  padding: 15px;
  border-radius: 12px;
  box-shadow: 0 2px 8px var(--sombra);
  border: 1px solid var(--borde);
  margin-bottom: 20px;
}
canvas { max-width: 320px; margin: auto; display: block; }

/* ================================
   CALENDARIO (lista simple)
================================ */
.tabla-calendario, .lista-calendario { width: 100%; max-width: 900px; margin: 1.5em auto; }
.lista-calendario .cal-item{
  display:flex; justify-content:space-between; align-items:center;
  background: var(--card); border:1px solid var(--borde);
  border-radius: 10px; padding: 10px 12px; margin-bottom: 10px;
  box-shadow: 0 2px 6px var(--sombra);
}

/* ================================
   TOASTS
================================ */
.toast{
  position: fixed;
  bottom: 20px; left: 50%; transform: translateX(-50%);
  background: var(--azul); color: #fff;
  padding: 10px 16px; border-radius: 10px;
  box-shadow: 0 4px 14px rgba(0,0,0,.25);
  z-index: 9999;
  opacity: 0;
  animation: toast-in .18s forwards, toast-out .2s forwards 2.6s;
}
@keyframes toast-in { to { opacity: 1; transform: translateX(-50%) translateY(0); } }
@keyframes toast-out { to { opacity: 0; } }

/* ================================
   SCROLLBAR
================================ */
* { scrollbar-width: thin; scrollbar-color: var(--azul) transparent; }
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-thumb { background: var(--azul); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--azul-oscuro); }

/* ================================
   RESPONSIVE
================================ */
@media (max-width: 600px) {
  header h1 { font-size: 1.1rem; }
  .menu button { font-size: .95rem; padding: 10px 8px; }
  .cliente { padding: 12px; }
  #mapaFull, #mapa { height: 58vh; }
}
.cliente.bloqueado {
  filter: grayscale(0.7);
  pointer-events: none;
  opacity: 0.6;
}

/* === Fullscreen Success Toast (1s) === */
.fullscreen-toast {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.35);
  display: grid;
  place-items: center;
  z-index: 10000;
  animation: fst-fade 1s forwards;
}
.fullscreen-toast .box {
  width: 170px;
  height: 170px;
  background: #ffffff;
  border-radius: 18px;
  display: grid;
  place-items: center;
  box-shadow: 0 12px 34px rgba(0,0,0,.25);
}

.fst-circle {
  width: 110px; height: 110px;
  position: relative;
}
.fst-circle svg {
  width: 110px; height: 110px;
  transform: rotate(-90deg);
}
.fst-circle .bg {
  stroke: #e6f7ec; stroke-width: 10; fill: none;
}
.fst-circle .prog {
  stroke: #22c55e; stroke-width: 10; fill: none;
  stroke-linecap: round;
  stroke-dasharray: 345;     /* circunferencia ~ 2œÄr (r=55) */
  stroke-dashoffset: 345;
  animation: fst-progress 0.7s ease-out forwards;
}

.fst-check {
  position: absolute; inset: 0;
  display: grid; place-items: center;
}
.fst-check svg {
  width: 62px; height: 62px;
}
.fst-check path {
  stroke: #22c55e; stroke-width: 8; fill: none; stroke-linecap: round; stroke-linejoin: round;
  stroke-dasharray: 80; stroke-dashoffset: 80;
  animation: fst-check 0.25s ease-out forwards 0.65s;
}

.fst-title {
  margin-top: 10px;
  text-align: center;
  font-weight: 700;
  color: #111827;
  font-size: 14px;
}

@keyframes fst-fade {
  0%   { opacity: 1 }
  80%  { opacity: 1 }
  100% { opacity: 0 }
}
@keyframes fst-progress {
  to { stroke-dashoffset: 0; }
}
@keyframes fst-check {
  to { stroke-dashoffset: 0; }
}

/* === Fullscreen Success Toast (1s) === */
.fullscreen-toast {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.35);
  display: grid;
  place-items: center;
  z-index: 10000;
  animation: fst-fade 1s forwards;
}
.fullscreen-toast .box {
  width: 170px;
  height: 170px;
  background: #ffffff;
  border-radius: 18px;
  display: grid;
  place-items: center;
  box-shadow: 0 12px 34px rgba(0,0,0,.25);
}
.fst-circle { width: 110px; height: 110px; position: relative; }
.fst-circle svg { width: 110px; height: 110px; transform: rotate(-90deg); }
.fst-circle .bg   { stroke: #e6f7ec; stroke-width: 10; fill: none; }
.fst-circle .prog { stroke: #22c55e; stroke-width: 10; fill: none; stroke-linecap: round;
  stroke-dasharray: 345; stroke-dashoffset: 345; animation: fst-progress 0.7s ease-out forwards; }
.fst-check { position: absolute; inset: 0; display: grid; place-items: center; }
.fst-check svg { width: 62px; height: 62px; }
.fst-check path { stroke: #22c55e; stroke-width: 8; fill: none; stroke-linecap: round; stroke-linejoin: round;
  stroke-dasharray: 80; stroke-dashoffset: 80; animation: fst-check 0.25s ease-out forwards 0.65s; }
.fst-title { margin-top: 10px; text-align: center; font-weight: 700; color: #111827; font-size: 14px; }

@keyframes fst-fade { 0%{opacity:1} 80%{opacity:1} 100%{opacity:0} }
@keyframes fst-progress { to { stroke-dashoffset: 0; } }
@keyframes fst-check { to { stroke-dashoffset: 0; } }


/* ================================
   ‚úÖ MODAL DE √âXITO (NUEVO)
================================ */
.exito-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 20000;
  opacity: 0;
  /* Animaci√≥n instant√°nea de entrada */
  animation: exito-fade-in 0.1s forwards;
}

.exito-modal {
  width: 80%;
  max-width: 350px;
  background: #fff;
  border-radius: 20px;
  padding: 25px;
  text-align: center;
  transform: scale(0.9);
  animation: exito-pop-in 0.2s 0.05s forwards;
}

/* T√≠tulo negro y en negrita */
.exito-modal h2 {
  color: #000;
  font-weight: 700; /* bold */
  font-size: 1.3rem;
  margin: 0;
}

/* Contenedor de la animaci√≥n */
.exito-anim-container {
  height: 100px;
  width: 100px;
  margin: 0 auto 15px auto;
  position: relative;
}

/* C√≠rculo verde animado */
.exito-circulo {
  width: 100px;
  height: 100px;
  border: 8px solid #e0e0e0; /* C√≠rculo base gris */
  border-radius: 50%;
  position: absolute;
  box-sizing: border-box;
}
.exito-circulo::after {
  content: '';
  position: absolute;
  top: -8px; left: -8px; right: -8px; bottom: -8px;
  border: 8px solid transparent;
  border-top-color: #00c851; /* Verde OK */
  border-radius: 50%;
  /* Animaci√≥n del c√≠rculo form√°ndose */
  animation: exito-spin 0.5s ease-in-out forwards;
}

/* Tilde (checkmark) */
.exito-tilde {
  width: 30px;
  height: 60px;
  border: solid #00c851; /* Verde OK */
  border-width: 0 8px 8px 0;
  position: absolute;
  top: 15px;
  left: 35px;
  transform: rotate(45deg) scale(0);
  /* Animaci√≥n del tilde apareciendo */
  animation: exito-tilde 0.2s 0.4s forwards;
}
        
/* Destello (sparkle) */
.exito-tilde::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #fff;
  z-index: 10;
  opacity: 0;
  /* Animaci√≥n del destello */
  animation: exito-sparkle 0.3s 0.6s;
}

/* Keyframes (animaciones) */
@keyframes exito-fade-in {
  to { opacity: 1; }
}
@keyframes exito-pop-in {
  to { transform: scale(1); }
}
@keyframes exito-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); border-color: #00c851; }
}
@keyframes exito-tilde {
  to { transform: rotate(45deg) scale(1); }
}
@keyframes exito-sparkle {
  0% { opacity: 1; box-shadow: 0 0 10px 10px #fff; }
  100% { opacity: 0; box-shadow: 0 0 40px 30px #fff; }
}
