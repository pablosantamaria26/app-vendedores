

@charset "UTF-8";

/* === BASE (tus temas) === */
:root {
  --azul: #0a63ff;
  --azul-oscuro: #0a2b57;
  --ok: #22c55e;
  --no: #ef4444;
  --bg: #0b1220;
  --card: #0f1a2d;
  --texto: #e6edf3;
  --borde: #1f2a44;
  --sombra: rgba(0,0,0,.35);
  --boton-grad-a: var(--azul);
  --boton-grad-b: #0e63ff;
}

/* Temas (tus cuatro variantes) */
body.tema-confianza { --azul:#0a63ff; --azul-oscuro:#0a2b57; --bg:#0b1220; --card:#0f1a2d; --texto:#e6edf3; --borde:#1f2a44; --boton-grad-a:#0a63ff; --boton-grad-b:#0e8bff; }
body.tema-energia   { --azul:#8b5cf6; --azul-oscuro:#22c55e; --bg:#0f0b1a; --card:#17122b; --texto:#f4f4fd; --borde:#2a214a; --boton-grad-a:#8b5cf6; --boton-grad-b:#22c55e; }
body.tema-foco      { --azul:#facc15; --azul-oscuro:#111827; --bg:#0a0a0a; --card:#121212; --texto:#f8fafc; --borde:#1f2937; --boton-grad-a:#facc15; --boton-grad-b:#fde047; }
body.tema-noche     { --azul:#0066ff; --azul-oscuro:#001b3a; --bg:#000a1a; --card:#021024; --texto:#e0e7ff; --borde:#08223e; --boton-grad-a:#004aad; --boton-grad-b:#007bff; }

/* Transiciones */
html, body, header, .cliente, .menu, .panel-resumen, #mapaFull {
  transition: background-color .4s ease, color .4s ease, border-color .4s ease;
}

/* Layout */
html, body { height:100%; margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background: var(--bg); color: var(--texto); overflow-x: hidden; }
h2 { text-align:center; color:var(--azul); margin:10px 0; }
main { width:100%; max-width:780px; margin:0 auto 84px; padding:10px; box-sizing:border-box; }

/* Header */
header { width:100%; background:var(--azul-oscuro); color:#fff; padding:12px 14px; position:sticky; top:0; z-index:999; box-shadow:0 2px 14px var(--sombra); display:grid; grid-template-columns:1fr auto auto; gap:8px; align-items:center; }
header h1 { margin:0; font-size:1.1rem; font-weight:700; }
.modo-toggle, .tema-toggle { background:rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.25); color:#fff; border-radius:999px; padding:6px 10px; cursor:pointer; font-size:.95rem; display:inline-flex; align-items:center; gap:6px; }

/* Menú de temas */
.tema-menu { position:absolute; right:10px; top:48px; background:var(--card); border:1px solid var(--borde); border-radius:12px; box-shadow:0 12px 32px var(--sombra); padding:8px; display:none; min-width:220px; z-index:1000; }
.tema-menu.visible { display:block; }
.tema-item { display:flex; align-items:center; gap:10px; padding:10px; border-radius:10px; cursor:pointer; }
.tema-item:hover { background:rgba(255,255,255,.06); }
.tema-item .dot { width:14px; height:14px; border-radius:50%; }
.tema-item .nombre { font-weight:700; }

/* Secciones */
.seccion { display:none; }
.seccion.visible { display:block; }

/* Menú inferior */
.menu { position:fixed; bottom:0; left:0; width:100%; display:flex; background:var(--card); border-top:1px solid var(--borde); z-index:1000; }
.menu button { flex:1; padding:10px; background:transparent; border:none; color:var(--texto); cursor:pointer; font-size:1rem; }
.menu button.activo { background:var(--azul); color:#fff; font-weight:800; }

/* Tarjetas de clientes */
.cliente { background:var(--card); color:var(--texto); border:1px solid var(--borde); border-left:6px solid var(--azul); border-radius:14px; padding:14px; margin:10px 0; box-shadow:0 4px 14px var(--sombra); position:relative; }
.cliente h3 { margin:0 0 6px 0; color:var(--azul); }
.cliente .fila { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.cliente .acciones { margin-top:8px; display:flex; gap:8px; flex-wrap:wrap; justify-content:space-between; }
.cliente.bloqueado { filter:grayscale(.75) saturate(.7); opacity:.65; pointer-events:none; }
.cliente[draggable="true"] { cursor:grab; }

/* Inputs grandes (tacto) */
.cliente input[type="checkbox"] { width:28px; height:28px; margin-right:8px; vertical-align:middle; position:relative; top:-2px; cursor:pointer; }
.cliente .fila label { display:flex; align-items:center; font-size:1.1rem; cursor:pointer; }

/* Botones */
button { background:linear-gradient(135deg, var(--boton-grad-a), var(--boton-grad-b)); color:#fff; border:none; border-radius:10px; padding:8px 12px; font-weight:800; cursor:pointer; box-shadow:0 6px 16px var(--sombra); transition:transform .2s ease, filter .2s ease; }
button:hover { filter:brightness(1.05); transform:translateY(-1px); }
button:disabled { background:var(--borde); filter:grayscale(1); cursor:not-allowed; }
.btn-secundario { background:linear-gradient(135deg, #22c55e, #16a34a); }

/* Textarea */
.cliente textarea { width:100%; margin-top:6px; background:transparent; color:var(--texto); border:1px solid var(--borde); border-radius:8px; padding:8px; outline:none; box-sizing:border-box; }

/* Mapa */
#mapaFull { height:68vh; width:100%; border-radius:12px; overflow:hidden; box-shadow:0 2px 8px var(--sombra); border:1px solid var(--borde); }

/* Panel resumen + chart */
.panel-resumen { text-align:center; background:var(--card); padding:15px; border-radius:12px; box-shadow:0 2px 8px var(--sombra); border:1px solid var(--borde); margin-bottom:20px; }
canvas { max-width:320px; margin:auto; display:block; }

/* Login */
#login { position:fixed; inset:0; display:grid; place-items:center; background:linear-gradient(135deg, var(--azul-oscuro), var(--azul)); z-index:10000; transition:opacity .3s ease; }
.login-card { background:var(--card); color:var(--texto); border-radius:16px; padding:20px; width:86%; max-width:360px; text-align:center; border:1px solid var(--borde); box-shadow:0 16px 36px var(--sombra); }
#login input { font-size:1.4rem; padding:10px; text-align:center; margin:10px auto 0; width:80%; border-radius:10px; border:2px solid var(--azul); background:#fff; color:#111; box-sizing:border-box; }
#login #error { color:#ef4444; min-height:1.1em; }

/* Toast/confirm reutilizado */
.confirm-toast { position:fixed; left:50%; bottom:90px; transform:translateX(-50%); background:var(--card); color:var(--texto); border:1px solid var(--borde); box-shadow:0 12px 24px var(--sombra); border-radius:14px; padding:10px 12px; display:flex; gap:10px; align-items:center; z-index:9500; }
.confirm-toast button { padding:6px 10px; border-radius:10px; }
.confirm-toast button:last-child { background:var(--no); }

/* Overlay éxito */
.exito-overlay { position:fixed; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.45); z-index:9999; animation:exito-fade 1s forwards; opacity:0; }
.exito-box { width:min(560px, 88vw); height:80vh; background:#ffffff; color:#111827; border-radius:22px; box-shadow:0 18px 48px rgba(0,0,0,.35); display:grid; grid-template-rows:auto 1fr; align-items:center; justify-items:center; padding:20px; box-sizing:border-box; transform:scale(0.9); animation:exito-pop-in .2s .05s forwards; }
.exito-titulo { font-weight:800; font-size:1.2rem; margin-top:6px; color:#111827; }
.exito-circle { position:relative; width:180px; height:180px; margin-top:10px; }
.exito-circle svg { width:180px; height:180px; transform:rotate(-90deg); }
.exito-circle .bg { stroke:#e5e7eb; stroke-width:12; fill:none; }
.exito-circle .prog { stroke:#22c55e; stroke-width:12; fill:none; stroke-linecap:round; stroke-dasharray:565; stroke-dashoffset:565; animation:exito-progress .7s ease-out forwards; }
.exito-check { position:absolute; inset:0; display:grid; place-items:center; }
.exito-check svg { width:96px; height:96px; transform:rotate(-45deg); }
.exito-check path { stroke:#22c55e; stroke-width:10; fill:none; stroke-linecap:round; stroke-linejoin:round; stroke-dasharray:140; stroke-dashoffset:140; animation:exito-check .25s ease-out forwards .65s; filter:drop-shadow(0 0 10px rgba(34,197,94,.45)); }
@keyframes exito-fade { 0%{opacity:0} 10%{opacity:1} 80%{opacity:1} 100%{opacity:0} }
@keyframes exito-pop-in { to { transform: scale(1); } }
@keyframes exito-progress { to { stroke-dashoffset: 0; } }
@keyframes exito-check { to { stroke-dashoffset: 0; } }

/* FAB Buscador */
.fab { position:fixed; right:16px; bottom:96px; z-index:1200; background:var(--azul); color:#fff; border:0; border-radius:999px; padding:12px 14px; box-shadow:0 8px 20px var(--sombra); }

/* Modal Buscador */
.modal { position:fixed; inset:0; background:rgba(0,0,0,.35); display:none; align-items:flex-start; justify-content:center; padding:24px; z-index:1500; }
.modal.visible{ display:flex; }
.modal .modal-body{ width:min(740px,92vw); background:var(--card); border:1px solid var(--borde); border-radius:14px; padding:14px; }
#q{ width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--borde); background:transparent; color:var(--texto); margin-bottom:10px; }
#resultados .item{ padding:10px 6px; border-bottom:1px solid var(--borde); display:flex; align-items:center; justify-content:space-between; }
#resultados .copy{ background:transparent; border:1px solid var(--borde); color:var(--texto); padding:6px 10px; border-radius:8px; }

/* Responsivo */
@media (max-width:600px){ header h1{font-size:1rem;} .menu button{font-size:.95rem; padding:10px 8px;} #mapaFull{ height:58vh; } }
