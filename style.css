/* ============================================================
   ðŸ§  App de Vendedores â€” Estilos actualizados 2026
   Temas motivacionales + animaciones + diseÃ±o moderno
============================================================ */

/* ===============================
   ðŸŽ¨ Variables base (tema Confianza)
================================= */
:root {
  --azul: #0a63ff;
  --azul-oscuro: #0a2b57;
  --ok: #22c55e;
  --no: #ef4444;
  --bg: #0b1220;
  --card: #0f1a2d;
  --texto: #e6edf3;
  --borde: #1f2a44;
  --sombra: rgba(0,0,0,.35);
  --boton-grad-a: var(--azul);
  --boton-grad-b: #0e63ff;
  --safe-bottom: env(safe-area-inset-bottom);
  --safe-top: env(safe-area-inset-top);
}

/* ===============================
   ðŸŒˆ Temas motivacionales
================================= */
body.tema-confianza {
  --azul: #0a63ff;
  --azul-oscuro: #0a2b57;
  --bg: #0b1220;
  --card: #0f1a2d;
  --texto: #e6edf3;
  --borde: #1f2a44;
  --boton-grad-a: #0a63ff;
  --boton-grad-b: #0e8bff;
}
body.tema-energia {
  --azul: #8b5cf6;
  --azul-oscuro: #22c55e;
  --bg: #0f0b1a;
  --card: #17122b;
  --texto: #f4f4fd;
  --borde: #2a214a;
  --boton-grad-a: #8b5cf6;
  --boton-grad-b: #22c55e;
}
body.tema-foco {
  --azul: #facc15;
  --azul-oscuro: #111827;
  --bg: #0a0a0a;
  --card: #121212;
  --texto: #f8fafc;
  --borde: #1f2937;
  --boton-grad-a: #facc15;
  --boton-grad-b: #fde047;
}
/* ðŸ†• Tema noche (contraste blanco/azul) */
body.tema-noche {
  --azul: #0066ff;
  --azul-oscuro: #001b3a;
  --bg: #f5f8ff;
  --card: #ffffff;
  --texto: #0a2b57;
  --borde: #d6deea;
  --boton-grad-a: #0a63ff;
  --boton-grad-b: #003eb0;
}

/* Transiciones globales */
html, body, header, .cliente, .menu, .panel-resumen, #mapaFull {
  transition: background-color .4s ease, color .4s ease, border-color .4s ease;
}

/* ===============================
   Base + layout
================================= */
html, body {
  height: 100%;
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: var(--bg);
  color: var(--texto);
  overflow-x: hidden;
}
header {
  width: 100%;
  background: var(--azul-oscuro);
  color: #fff;
  padding: calc(12px + var(--safe-top)) 14px 12px 14px;
  position: sticky; top: 0; z-index: 999;
  box-shadow: 0 2px 14px var(--sombra);
  display: grid; grid-template-columns: 1fr auto auto; gap: 8px; align-items: center;
}
header h1 { margin: 0; font-size: 1.1rem; font-weight: 700; }

/* ===============================
   Botones del encabezado
================================= */
.modo-toggle, .tema-toggle {
  background: rgba(255,255,255,.12);
  border: 1px solid rgba(255,255,255,.25);
  color: #fff; border-radius: 999px; padding: 6px 10px; cursor: pointer; font-size: .95rem;
  display: inline-flex; align-items: center; gap: 6px;
}
.tema-toggle .dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; }

/* ===============================
   MenÃº de temas
================================= */
.tema-menu {
  position: absolute; right: 10px; top: 60px; background: var(--card); border: 1px solid var(--borde);
  border-radius: 12px; box-shadow: 0 12px 32px var(--sombra); padding: 8px; display: none; min-width: 220px;
}
.tema-menu.visible { display: block; }
.tema-item { display: flex; align-items: center; gap: 10px; padding: 10px; border-radius: 10px; cursor: pointer; }
.tema-item:hover { background: rgba(0,0,0,.06); }
.tema-item .dot { width: 14px; height: 14px; border-radius: 50%; flex: 0 0 14px; }
.tema-item .nombre { font-weight: 700; }

/* ===============================
   Main + secciones
================================= */
main { width: 100%; max-width: 780px; margin: 0 auto calc(84px + var(--safe-bottom)); padding: 10px; }
h2 { text-align: center; color: var(--azul); margin: 10px 0; }

.seccion { display: none; animation: fade .25s ease; }
.seccion.visible { display: block; }
@keyframes fade { from { opacity: 0; transform: translateY(6px) } to { opacity: 1; transform: translateY(0) } }

/* ===============================
   MenÃº inferior
================================= */
.menu {
  position: fixed; bottom: 0; left: 0; width: 100%; display: flex; background: var(--card);
  border-top: 1px solid var(--borde); z-index: 1000; padding-bottom: var(--safe-bottom);
}
.menu button { flex: 1; padding: 10px; background: transparent; border: none; color: var(--texto); cursor: pointer; }
.menu button.activo { background: var(--azul); color: #fff; font-weight: 800; }

/* ===============================
   Tarjetas clientes
================================= */
.cliente { background: var(--card); color: var(--texto); border: 1px solid var(--borde); border-left: 6px solid var(--azul);
  border-radius: 14px; padding: 14px; margin: 10px 0; box-shadow: 0 4px 14px var(--sombra); }
.cliente h3 { margin: 0 0 6px 0; color: var(--azul); }
.cliente .fila { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
.cliente .acciones { margin-top: 8px; display: flex; gap: 8px; flex-wrap: wrap; }
.cliente.bloqueado { filter: grayscale(.75) saturate(.7); opacity: .65; pointer-events: none; }

.badge { background: rgba(255,255,255,.05); border: 1px solid var(--borde); padding: 2px 8px; border-radius: 999px; font-size: .85rem; }

/* ===============================
   Botones
================================= */
button { background: linear-gradient(135deg, var(--boton-grad-a), var(--boton-grad-b)); color: #fff; border: none; border-radius: 10px; padding: 8px 12px; font-weight: 800; cursor: pointer; box-shadow: 0 6px 16px var(--sombra); transition: transform .2s ease, filter .2s ease; }
button:hover { filter: brightness(1.05); transform: translateY(-1px); }
.btn-secundario { background: linear-gradient(135deg, #22c55e, #16a34a); }

.cliente textarea { width: 100%; margin-top: 6px; background: transparent; color: var(--texto); border: 1px solid var(--borde); border-radius: 8px; padding: 8px; outline: none; }

/* ===============================
   Mapa
================================= */
#mapaFull { height: 68vh; width: 100%; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px var(--sombra); border: 1px solid var(--borde); }

/* ===============================
   Panel resumen + grÃ¡fico
================================= */
.panel-resumen { text-align: center; background: var(--card); padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px var(--sombra); border: 1px solid var(--borde); margin-bottom: 20px; }
canvas { max-width: 320px; margin: auto; display: block; }

/* ===============================
   Toast de Ã©xito animado (80% pantalla)
================================= */
.exito-overlay { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(0,0,0,.45); z-index: 9999; animation: exito-fade 1s forwards; }
.exito-box { width: min(560px, 88vw); height: 80vh; background: #ffffff; color: #111827; border-radius: 22px; box-shadow: 0 18px 48px rgba(0,0,0,.35); display: grid; grid-template-rows: auto 1fr; align-items: center; justify-items: center; padding: 20px; }
.exito-titulo { font-weight: 800; font-size: 1.2rem; margin-top: 6px; }
.exito-circle { position: relative; width: 180px; height: 180px; margin-top: 10px; }
.exito-circle svg { width: 180px; height: 180px; transform: rotate(-90deg); }
.exito-circle .bg { stroke: #e5e7eb; stroke-width: 12; fill: none; }
.exito-circle .prog { stroke: #22c55e; stroke-width: 12; fill: none; stroke-linecap: round; stroke-dasharray: 565; stroke-dashoffset: 565; animation: exito-progress .7s ease-out forwards; }
.exito-check { position: absolute; inset: 0; display: grid; place-items: center; }
.exito-check svg { width: 96px; height: 96px; }
.exito-check path { stroke: #22c55e; stroke-width: 10; fill: none; stroke-linecap: round; stroke-linejoin: round; stroke-dasharray: 140; stroke-dashoffset: 140; animation: exito-check .25s ease-out forwards .65s; filter: drop-shadow(0 0 10px rgba(34,197,94,.45)); }
@keyframes exito-fade { 0%{opacity:1} 80%{opacity:1} 100%{opacity:0} }
@keyframes exito-progress { to { stroke-dashoffset: 0; } }
@keyframes exito-check { to { stroke-dashoffset: 0; } }

/* ===============================
   Confirm de destino (60â€“70% pantalla)
================================= */
.confirm-overlay { position:fixed; inset:0; background:rgba(0,0,0,.45); display:none; place-items:center; z-index:11000; }
.confirm-overlay.visible { display:grid; }
.confirm-box { width:min(560px,88vw); height:70vh; background:#fff; color:#111; border-radius:22px; box-shadow:0 18px 48px rgba(0,0,0,.35); display:grid; grid-template-rows:auto 1fr auto; padding:18px; }
.confirm-box h3 { margin:0; }
.confirm-actions { display:flex; gap:10px; justify-content:flex-end; }

/* ===============================
   Buscador (modal)
================================= */
.modal { position: fixed; inset: 0; background: rgba(0,0,0,.5); display: none; place-items: center; z-index: 12000; }
.modal.visible { display: grid; }
.modal-box { width: min(680px, 92vw); max-height: 80vh; overflow: hidden; background: var(--card); border:1px solid var(--borde); border-radius:16px; box-shadow: 0 18px 48px rgba(0,0,0,.35); display: grid; grid-template-rows: auto 1fr; }
.modal-head { padding: 12px; border-bottom:1px solid var(--borde); display:flex; gap:8px; align-items:center; }
.modal-head input { flex:1; padding:10px 12px; border-radius:10px; border:1px solid var(--borde); background: #fff; color:#111; }
.modal-body { overflow:auto; padding: 10px; }
.result { display:flex; justify-content:space-between; align-items:center; gap:10px; padding:10px; border-bottom:1px solid var(--borde); }
.copy { padding:6px 10px; border-radius:10px; border:none; background:linear-gradient(135deg,#0a63ff,#0e8bff); color:#fff; font-weight:800; }

/* Floating action button para el buscador */
.fab-search { position: fixed; right: 16px; bottom: calc(92px + var(--safe-bottom)); z-index: 1050; width: 56px; height: 56px; border-radius: 50%; border: none; background: linear-gradient(135deg, var(--boton-grad-a), var(--boton-grad-b)); color:#fff; font-size: 22px; box-shadow: 0 8px 20px rgba(0,0,0,.35); }

/* Calendario scroll */
#calScroll { max-height: 65vh; overflow:auto; border:1px solid var(--borde); border-radius:12px; padding:8px; background:var(--card); }

/* iOS-like switch (modo dÃ­a/noche) */
.ios-switch { --on:#0a63ff; --off:#cbd5e1; --knob:#fff; width: 116px; height: 32px; border-radius: 999px; position: relative; background: var(--off); border: 1px solid rgba(0,0,0,.08); box-shadow: inset 0 1px 2px rgba(0,0,0,.15); cursor: pointer; display:flex; align-items:center; padding: 0 8px; gap:8px; color:#111; font-weight:700; font-size:12px; user-select:none; }
.ios-switch[data-on="1"] { background: var(--on); color:#fff; }
.ios-switch .knob { position:absolute; top:3px; left:3px; width:26px; height:26px; border-radius:50%; background:var(--knob); box-shadow: 0 2px 6px rgba(0,0,0,.25); transition: transform .2s ease; }
.ios-switch[data-on="1"] .knob { transform: translateX(80px); }

@media (max-width: 600px) {
  header h1 { font-size: 1rem; }
  .menu button { font-size: .95rem; padding: 10px 8px; }
  #mapaFull { height: 58vh; }
}
